<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ATLAS</title>
    <link rel="stylesheet" href="../mainCssYakoub.css">
    <link rel="stylesheet" href="../main/main.css">
	<link rel="stylesheet" href="../mainCssNoureddine.css">
    <link rel="stylesheet" href="../path/to/font-awesome/css/all.min.css">
	<script src="https://use.fontawesome.com/e05f192331.js"></script>
	<script src="../mainJS.js"></script>
    <script src="../js/filter.js"></script>

</head>
<body>

<div id="header"></div>

<body>
    <header>
        <div class="logo">
		  <a href="../main/main.html"><img src="../Images/logo_I.jpg" alt="logo"></a>
        </div>

        <form action="../main/search.php" method="post" class="search-form">
            
            <input type="text" id="searchInput" name="searchInput" placeholder="Search products, brands and categories">
            <button type="button" id="filterBtn"><i class="fa fa-filter"></i></button>
            <div id="filter-box">
                <label for="minPrice">Min Price:</label>
                <input type="number" id="minPrice" name="minPrice" placeholder="Min Price">
        
                <label for="maxPrice">Max Price:</label>
                <input type="number" id="maxPrice" name="maxPrice" placeholder="Max Price">
        
                <label for="category">Category:</label>
                <select id="category" name="category">
                    <option value="0">None</option>
                    <option value="1">Supermarket</option>
                    <option value="2">Health & Beauty</option>
                    <option value="3">Home & Office</option>
                    <option value="4">Phones & Tablets</option>
                    <option value="5">Computing</option>
                    <option value="6">Electronics</option>
                    <option value="7">Fashion</option>
                    <option value="8">Baby Products</option>
                    <option value="9">Gaming</option>
                    <option value="10">Sporting Goods</option>
                </select>
        
                <!-- <button type="button" onclick="applyFilter()">Apply Filter</button> -->
            </div>
            <button type="submit" name="submit" >SEARCH</button>

           
        
        </form>
        <script>
            document.getElementById('filterBtn').addEventListener('click', function (event) {
                event.stopPropagation(); // Prevents the document click event from triggering immediately
                document.getElementById('filter-box').style.display = 'block';
            });
        
            document.addEventListener('click', function (event) {
                const filterBox = document.getElementById('filter-box');
                if (event.target !== filterBox && !filterBox.contains(event.target)) {
                    filterBox.style.display = 'none';
                }
            });
        
            // function applyFilter() {
            //     // Get values from filter inputs
            //     const minPrice = document.getElementById('minPrice').value;
            //     const maxPrice = document.getElementById('maxPrice').value;
            //     const category = document.getElementById('category').value;
        
            //     // Implement your filtering logic here
            //     console.log('Min Price:', minPrice);
            //     console.log('Max Price:', maxPrice);
            //     console.log('Selected Category:', category);
        
            //     // Close the filter box
            //     document.getElementById('filter-box').style.display = 'none';
            // }



        </script>
    
        
        

        <nav>
          <ul>
            <li class="nav_icon"> <a href="../Header/shopping-cart/shopping-cart.html"><img src="../Images/shopping-cart.png" width="25px"/></a></li>
            <li class="nav_icon"> <a href="../Header/heart/favourite.html"><img src="../Images/heart.png" /> </a></li>
            <li class="nav_icon"><a href="../Header/Product/Product.html"><i class="fa fa-plus"></i></a></li>
            <li class="nav_icon"> <a href="../Header/account/account.html"><img src="../Images/account.png" width="25px"/></a></li>
          </ul>
        </nav>
    </header>

    <!-- list of categories -->
	<div class="diver">
        <div class="category">
            <ul >
                <li><a href="../Categories/Supermarket.html"><i class="fa fa-shopping-cart"></i>Supermarket</a>
                    <div class="subcategory">
                        <ul>
                            <li><a href="../Sub-Categories/FOOD CUPBOARD.html">FOOD CUPBOARD</a></li>
                            <li><a href="../Sub-Categories/BEVERAGES.html">BEVERAGES</a></li>
                        </ul>
                    </div></li>
                <li><a href="../Categories/Health&Beauty.html"><i class="fa fa-medkit"></i>Health&Beauty</a>
                    <div class="subcategory">
                        <ul>
                            <li><a href="../Sub-Categories/MAKE UP.html">MAKE UP</a></li>
                            <li><a href="../Sub-Categories/HAIR CARE.html">HAIR CARE</a></li>
                        </ul>
                    </div></li>
                <li><a href="../Categories/Home&Office.html"><i class="fa fa-building"></i>Home&Office</a>
                    <div class="subcategory">
                        <ul>
                            <li><a href="../Sub-Categories/HOME & KITCHEN.html">HOME & KITCHEN</a></li>
                            <li><a href="../Sub-Categories/OFFICE PRODUCTS.html">OFFICE PRODUCTS</a></li>
                        </ul>
                    </div></li>
				<li><a href="../Categories/Phones & Tablets.html"><i class="fa fa-tablet"></i>Phones & Tablets</a>
                    <div class="subcategory">
                        <ul>
                            <li><a href="../Sub-Categories/MOBILE PHONES.html">MOBILE PHONES</a></li>
                            <li><a href="../Sub-Categories/TABLETS.html">TABLETS</a></li>
                        </ul>
                    </div></li>
				<li><a href="../Categories/Electronic.html"><i class="fa fa-bolt"></i>Electronic</a>
                    <div class="subcategory">
                        <ul>
                            <li><a href="../Sub-Categories/TELEVISION.html">TELEVISION</a></li>
                            <li><a href="../Sub-Categories/HOME AUDIO.html">HOME AUDIO</a></li>
                        </ul>
                    </div></li>
                <li><a href="../Categories/Computing.html"><i class="fa fa-laptop"></i>Computing</a>
                    <div class="subcategory">
                        <ul>
                            <li><a href="../Sub-Categories/COMPUTERS.html">COMPUTERS</a></li>
                            <li><a href="../Sub-Categories/DATA STORAGE.html">DATA STORAGE</a></li>
                        </ul>
                    </div></li>
                <li><a href="../Categories/Fashion.html"><i class="fa fa-shopping-bag"></i>Fashion</a>
                    <div class="subcategory">
                        <ul>
                            <li><a href="../Sub-Categories/MEN.html">MEN</a></li>
                            <li><a href="../Sub-Categories/WOMEN.html">WOMEN</a></li>
                        </ul>
                    </div></li>
                <li><a href="../Categories/Baby Products.html"><i class="fa fa-child"></i>Baby Products</a>
                    <div class="subcategory">
                        <ul>
                            <li><a href="../Sub-Categories/APPAREL & ACCESSORIES.html">APPAREL & ACCESSORIES</a></li>
                            <li><a href="../Sub-Categories/BABY & TODDLER TOYS.html">BABY & TODDLER TOYS</a></li>
                        </ul>
                    </div></li>
                <li><a href="../Categories/Gaming.html"><i class="fa fa-gamepad"></i>Gaming</a>
                    <div class="subcategory">
                        <ul>
                            <li><a href="../Sub-Categories/PLAYSTATION.html">PLAYSTATION</a></li>
                            <li><a href="../Sub-Categories/XBOX.html">XBOX</a></li>
                            <li><a href="../Sub-Categories/PC2.html">PC2</a></li>
                        </ul>
                    </div></li>
                <li><a href="../Categories/Sporting Goods.html"><i class="fa fa-trophy"></i>Sporting Goods</a>
                    <div class="subcategory">
                        <ul>
                            <li><a href="../Sub-Categories/ACCESSORIES.html">ACCESSORIES</a></li>
                            <li><a href="../Sub-Categories/CARDIO TRAINING.html">CARDIO TRAINING</a></li>
                        </ul>
                    </div></li>
            </ul>
        </div>
        <div class="categoryresults">
            <img src="../images/detegent.jpg">
        </div>
        <div class="categoryresults1">
            <div class="box">
                <img src="../images/detegent.jpg">
            </div>
            <div class="box">
                <img src="../images/detegent.jpg">
            </div>
        </div>
    </div>
   
    <div class="category-container">
        <h2><i class="fa fa-search-plus"></i>Result</h2>
    </div>
    
    <div class="carousel-container-wrapper">
        <div class="carousel-container">
            <div class="carousel-wrapper" id="Result">
                <script>
                    document.addEventListener("DOMContentLoaded", function() {
                        // Fetch article data from PHP file
                        fetch(`searchResult.php`)
                            .then(response => response.json())
                            .then(data => {
                                // Process the JSON data and display articles
                                displayArticles(data);
                            })
                            .catch(error => {
                                console.error('Error:', error);
                            });
                    });

                    function displayArticles(articles) {
                        const displayProduct = document.getElementById("Result");
                       
                       // Loop through filtered articles and create HTML elements for each
                       for (let i = 0; i < articles.length; i++) {
                           const article = articles[i];
                           // Create HTML elements for the article
                           const articleDiv = document.createElement("div");
                           const img = document.createElement("img");
                           const h3 = document.createElement("h3");
                           const p = document.createElement("p");


                            // Set attributes and text content for each element
                            img.src = article.image_url;
                            h3.textContent = article.nameP;
                            p.textContent = article.description;

                            // Append elements to the article container
                            articleDiv.appendChild(img);
                            articleDiv.appendChild(h3);
                            // articleDiv.appendChild(p);

                           // Add CSS class to style the article container
                           articleDiv.classList.add("product");

                           // add listener to get showProduct
                           articleDiv.addEventListener("click", function(event) {
                                window.location.href =`getIdProduct.php?idP_show=${article.idP}`;
                            });

                           // Append article container to the product list
                           displayProduct.appendChild(articleDiv);
                       }
                    }
                </script>
            </div>
        </div>
    </div>
    

    
    
    <!-- <script>
        let currentIndex = 0;
const totalSlides = document.querySelectorAll('.product').length;
const carouselWrapper = document.querySelector('.carousel-wrapper');

function showSlide(index) {
    const translateValue = -index * 320; // Adjust the value based on your product width
    carouselWrapper.style.transform = `translateX(${translateValue}px)`;
}

function nextSlide() {
    currentIndex = (currentIndex + 1) % totalSlides;
    showSlide(currentIndex);
}

function prevSlide() {
    currentIndex = (currentIndex - 1 + totalSlides) % totalSlides;
    showSlide(currentIndex);
}
    </script> -->
	<!-- Add more product divs here -->
	<div class="footer">
        <div class="contactus">
            <div class="help">
                <ul class="helplist">
                    <li><h5>LET US HELP YOU</h5></li>
                    <li><a href="../plus/help/Help Center.html">Help Center</a></li>
                    <li><a href="../plus/help/Contact Us.html">Contact Us</a></li>
                    <li><a href="../plus/help/How to Shop with us.html">How to Shop with us</a></li>
                    <li><a href="../plus/help/Shipping and delivery.html">Shipping and delivery</a></li>
                    <li><a href="../plus/help/Return Policy.html">Return Policy</a></li>
                    <li><a href="../plus/help/Bulk Purchase.html">Bulk Purchase</a></li>
                    <li><a href="../plus/help/Advertise with us.html">Advertise with us</a></li>
                    <li><a href="../plus/help/Report a product.html">Report a product</a></li>
                </ul>
            </div>
            <div class="about">
                <ul class="aboutlist">
                    <li><h5>ABOUT US</h5></li>
                    <li><a href="../plus/about/About us.html">About us</a></li>
                    <li><a href="../plus/about/Careers.html">Careers</a></li>
                    <li><a href="../plus/about/Terms and Condition.html">Terms and Condition</a></li>
                    <li><a href="../plus/about/Privary Policy.html">Privary Policy</a></li>
                </ul>
            </div>
            <div class="international">
                <div class="download">
                    <div class="freeapp">
                        <h5>DOWNLOAD THE ATLAS APP</h5>
                    </div>
                    <div class="appstore">
                        <a href=""><i class="fa fa-apple"></i>Apple Store</a>
                        <a href=""><i class="fa fa-google"></i>Google Play</a>
                    </div>
                </div>
                    <div class="socials"><br><br><br>
                        <h5>FOLLOW</h5>
                        <ul>
                            <li><a href=""><i class="fa fa-facebook"></i></a></li>
                            <li><a href=""><i class="fa fa-instagram"></i></a></li>
                            <li><a href=""><i class="fa fa-youtube"></i></a></li>
                            <li><a href=""><i class="fa fa-twitter"></i></a></li>
                        </ul>
                    </div>
            </div>
        </div>
    </div>
</body>
</html>